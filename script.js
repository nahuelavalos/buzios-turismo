// Diccionario de traducciones
const translations = {
  es: {
    // Navegación
    brand: "Buzios Turismo",
    language: "Idioma",
    login: "Iniciar Sesión",
    "book.now": "Reservar Ahora",
    nav: {
      destinations: "Destinos",
      services: "Servicios",
      about: "Sobre Nosotros",
      testimonials: "Testimonios",
      contact: "Contacto",
    },
    // Hero
    hero: {
      title: "Descubre la Magia de Buzios",
      subtitle:
        "Playas paradisíacas, cultura vibrante y experiencias inolvidables te esperan en el destino más encantador de Brasil.",
      cta: "Explorar Paquetes",
    },
    // Buscador
    search: {
      destination: "Destino",
      dates: "Fechas",
      travelers: "Viajeros",
      button: "Buscar",
    },
    // Destinos
    destinations: {
      title: "Destinos Populares en Buzios",
      subtitle: "Explora las playas más hermosas y los lugares más encantadores de Buzios",
      details: "Ver Detalles",
      viewAll: "Ver Todos los Destinos",
      place1: {
        name: "Playa João Fernandes",
        description: "Aguas cristalinas y arena blanca, perfecta para snorkel.",
      },
      place2: {
        name: "Playa Geribá",
        description: "La playa más famosa de Buzios, ideal para surfistas.",
      },
      place3: {
        name: "Rua das Pedras",
        description: "La calle principal con tiendas, restaurantes y vida nocturna.",
      },
      place4: {
        name: "Azeda y Azedinha",
        description: "Pequeñas playas de aguas tranquilas y paisajes paradisíacos.",
      },
      place5: {
        name: "Playa Ferradura",
        description: "Ideal para familias, con aguas tranquilas y deportes acuáticos.",
      },
      place6: {
        name: "Playa Brava",
        description: "Playa con olas fuertes, perfecta para surf y vistas impresionantes.",
      },
    },
    // Servicios
    services: {
      title: "Nuestros Servicios",
      subtitle: "Ofrecemos experiencias completas para que disfrutes al máximo tu estancia en Buzios",
      service1: {
        name: "Paseos en Barco",
        description: "Recorre las 12 playas más hermosas de Buzios en un paseo marítimo inolvidable.",
      },
      service2: {
        name: "Alojamiento",
        description: "Hoteles y posadas seleccionadas con las mejores ubicaciones y servicios.",
      },
      service3: {
        name: "Tours Guiados",
        description: "Conoce la historia y los secretos de Buzios con nuestros guías expertos.",
      },
      service4: {
        name: "Gastronomía",
        description: "Descubre los mejores restaurantes y la deliciosa cocina local.",
      },
    },
    // Sobre nosotros
    about: {
      title: "Sobre Buzios Turismo",
      paragraph1:
        "Con más de 15 años de experiencia, somos la agencia de turismo líder en Buzios. Nuestro compromiso es ofrecer experiencias auténticas y memorables a cada visitante.",
      paragraph2:
        "Nuestro equipo de expertos locales conoce cada rincón de Buzios y está dedicado a personalizar cada viaje según tus preferencias y necesidades.",
      stat1: "Años de experiencia",
      stat2: "Clientes satisfechos",
      stat3: "Tours exclusivos",
      stat4: "Playas exploradas",
      cta: "Conoce Nuestro Equipo",
    },
    // Testimonios
    testimonials: {
      title: "Lo Que Dicen Nuestros Clientes",
      subtitle: "Experiencias reales de viajeros que han disfrutado de nuestros servicios",
      person1: {
        name: "María González",
        country: "Argentina",
        text: '"Nuestra experiencia con Buzios Turismo fue increíble. El paseo en barco fue lo más destacado del viaje. ¡Volveremos seguro!"',
      },
      person2: {
        name: "João Silva",
        country: "Brasil",
        text: '"Los guías conocen cada rincón de Buzios y nos mostraron lugares que nunca hubiéramos encontrado por nuestra cuenta."',
      },
      person3: {
        name: "Laura Martínez",
        country: "Chile",
        text: '"El hotel recomendado por la agencia tenía una ubicación perfecta y el servicio fue excelente. Totalmente recomendado."',
      },
    },
    // Call to action
    cta: {
      title: "¿Listo para Vivir la Experiencia Buzios?",
      subtitle: "Reserva ahora y obtén un 10% de descuento en tu próximo viaje a este paraíso brasileño",
      packages: "Ver Paquetes",
      contact: "Contactar Ahora",
    },
    // Contacto
    contact: {
      title: "Contáctanos",
      subtitle:
        "Estamos aquí para ayudarte a planificar tu viaje perfecto a Buzios. Contáctanos y un asesor se pondrá en contacto contigo.",
      address: {
        title: "Dirección",
        value: "Rua das Pedras, 123, Centro, Buzios, RJ, Brasil",
      },
      email: {
        title: "Email",
      },
      phone: {
        title: "Teléfono",
      },
      follow: "Síguenos",
      form: {
        title: "Envíanos un Mensaje",
        name: "Nombre",
        namePlaceholder: "Tu nombre",
        email: "Email",
        emailPlaceholder: "tu@email.com",
        subject: "Asunto",
        subjectPlaceholder: "Asunto de tu mensaje",
        message: "Mensaje",
        messagePlaceholder: "Escribe tu mensaje aquí...",
        submit: "Enviar Mensaje",
      },
    },
    // Footer
    footer: {
      description: "Tu agencia de viajes especializada en Buzios, ofreciendo experiencias inolvidables desde 2008.",
      quickLinks: "Enlaces Rápidos",
      home: "Inicio",
      popularDestinations: "Destinos Populares",
      newsletter: "Boletín Informativo",
      newsletterText: "Suscríbete para recibir ofertas especiales y novedades sobre Buzios.",
      emailPlaceholder: "Tu email",
      subscribe: "Suscribir",
      rights: "Todos los derechos reservados.",
    },
  },
  pt: {
    // Navegação
    brand: "Buzios Turismo",
    language: "Idioma",
    login: "Iniciar Sessão",
    "book.now": "Reservar Agora",
    nav: {
      destinations: "Destinos",
      services: "Serviços",
      about: "Sobre Nós",
      testimonials: "Depoimentos",
      contact: "Contato",
    },
    // Hero
    hero: {
      title: "Descubra a Magia de Búzios",
      subtitle:
        "Praias paradisíacas, cultura vibrante e experiências inesquecíveis esperam por você no destino mais encantador do Brasil.",
      cta: "Explorar Pacotes",
    },
    // Buscador
    search: {
      destination: "Destino",
      dates: "Datas",
      travelers: "Viajantes",
      button: "Buscar",
    },
    // Destinos
    destinations: {
      title: "Destinos Populares em Búzios",
      subtitle: "Explore as praias mais bonitas e os lugares mais encantadores de Búzios",
      details: "Ver Detalhes",
      viewAll: "Ver Todos os Destinos",
      place1: {
        name: "Praia João Fernandes",
        description: "Águas cristalinas e areia branca, perfeita para snorkel.",
      },
      place2: {
        name: "Praia Geribá",
        description: "A praia mais famosa de Búzios, ideal para surfistas.",
      },
      place3: {
        name: "Rua das Pedras",
        description: "A rua principal com lojas, restaurantes e vida noturna.",
      },
      place4: {
        name: "Azeda e Azedinha",
        description: "Pequenas praias com águas calmas e paisagens paradisíacas.",
      },
      place5: {
        name: "Praia da Ferradura",
        description: "Ideal para famílias, com águas calmas e esportes aquáticos.",
      },
      place6: {
        name: "Praia Brava",
        description: "Praia com ondas fortes, perfeita para o surfe e com vistas deslumbrantes.",
      },
    },
    // Serviços
    services: {
      title: "Nossos Serviços",
      subtitle: "Oferecemos experiências completas para que você aproveite ao máximo sua estadia em Búzios",
      service1: {
        name: "Passeios de Barco",
        description: "Percorra as 12 praias mais bonitas de Búzios em um passeio marítimo inesquecível.",
      },
      service2: {
        name: "Hospedagem",
        description: "Hotéis e pousadas selecionadas com as melhores localizações e serviços.",
      },
      service3: {
        name: "Tours Guiados",
        description: "Conheça a história e os segredos de Búzios com nossos guias especializados.",
      },
      service4: {
        name: "Gastronomia",
        description: "Descubra os melhores restaurantes e a deliciosa culinária local.",
      },
    },
    // Sobre nós
    about: {
      title: "Sobre Búzios Turismo",
      paragraph1:
        "Com mais de 15 anos de experiência, somos a agência de turismo líder em Búzios. Nosso compromisso é oferecer experiências autênticas e memoráveis a cada visitante.",
      paragraph2:
        "Nossa equipe de especialistas locais conhece cada canto de Búzios e está dedicada a personalizar cada viagem de acordo com suas preferências e necessidades.",
      stat1: "Anos de experiência",
      stat2: "Clientes satisfeitos",
      stat3: "Tours exclusivos",
      stat4: "Praias exploradas",
      cta: "Conheça Nossa Equipe",
    },
    // Depoimentos
    testimonials: {
      title: "O Que Nossos Clientes Dizem",
      subtitle: "Experiências reais de viajantes que desfrutaram de nossos serviços",
      person1: {
        name: "Maria González",
        country: "Argentina",
        text: '"Nossa experiência com Búzios Turismo foi incrível. O passeio de barco foi o destaque da viagem. Voltaremos com certeza!"',
      },
      person2: {
        name: "João Silva",
        country: "Brasil",
        text: '"Os guias conhecem cada canto de Búzios e nos mostraram lugares que nunca teríamos encontrado por conta própria."',
      },
      person3: {
        name: "Laura Martínez",
        country: "Chile",
        text: '"O hotel recomendado pela agência tinha uma localização perfeita e o serviço foi excelente. Totalmente recomendado."',
      },
    },
    // Call to action
    cta: {
      title: "Pronto para Viver a Experiência Búzios?",
      subtitle: "Reserve agora e obtenha 10% de desconto em sua próxima viagem a este paraíso brasileiro",
      packages: "Ver Pacotes",
      contact: "Contatar Agora",
    },
    // Contato
    contact: {
      title: "Contate-nos",
      subtitle:
        "Estamos aqui para ajudá-lo a planejar sua viagem perfeita a Búzios. Entre em contato e um consultor entrará em contato com você.",
      address: {
        title: "Endereço",
        value: "Rua das Pedras, 123, Centro, Búzios, RJ, Brasil",
      },
      email: {
        title: "Email",
      },
      phone: {
        title: "Telefone",
      },
      follow: "Siga-nos",
      form: {
        title: "Envie-nos uma Mensagem",
        name: "Nome",
        namePlaceholder: "Seu nome",
        email: "Email",
        emailPlaceholder: "seu@email.com",
        subject: "Assunto",
        subjectPlaceholder: "Assunto da sua mensagem",
        message: "Mensagem",
        messagePlaceholder: "Escreva sua mensagem aqui...",
        submit: "Enviar Mensagem",
      },
    },
    // Rodapé
    footer: {
      description: "Sua agência de viagens especializada em Búzios, oferecendo experiências inesquecíveis desde 2008.",
      quickLinks: "Links Rápidos",
      home: "Início",
      popularDestinations: "Destinos Populares",
      newsletter: "Boletim Informativo",
      newsletterText: "Inscreva-se para receber ofertas especiais e novidades sobre Búzios.",
      emailPlaceholder: "Seu email",
      subscribe: "Inscrever",
      rights: "Todos os direitos reservados.",
    },
  },
  en: {
    // Navigation
    brand: "Buzios Tourism",
    language: "Language",
    login: "Login",
    "book.now": "Book Now",
    nav: {
      destinations: "Destinations",
      services: "Services",
      about: "About Us",
      testimonials: "Testimonials",
      contact: "Contact",
    },
    // Hero
    hero: {
      title: "Discover the Magic of Buzios",
      subtitle:
        "Paradise beaches, vibrant culture, and unforgettable experiences await you in Brazil's most charming destination.",
      cta: "Explore Packages",
    },
    // Search
    search: {
      destination: "Destination",
      dates: "Dates",
      travelers: "Travelers",
      button: "Search",
    },
    // Destinations
    destinations: {
      title: "Popular Destinations in Buzios",
      subtitle: "Explore the most beautiful beaches and the most charming places in Buzios",
      details: "View Details",
      viewAll: "View All Destinations",
      place1: {
        name: "João Fernandes Beach",
        description: "Crystal clear waters and white sand, perfect for snorkeling.",
      },
      place2: {
        name: "Geribá Beach",
        description: "The most famous beach in Buzios, ideal for surfers.",
      },
      place3: {
        name: "Rua das Pedras",
        description: "The main street with shops, restaurants, and nightlife.",
      },
      place4: {
        name: "Azeda and Azedinha",
        description: "Small beaches with calm waters and paradisiacal scenery.",
      },
      place5: {
        name: "Ferradura Beach",
        description: "Ideal for families, with calm waters and water sports.",
      },
      place6: {
        name: "Brava Beach",
        description: "Beach with strong waves, perfect for surfing and breathtaking views.",
      },
    },
    // Services
    services: {
      title: "Our Services",
      subtitle: "We offer complete experiences for you to enjoy your stay in Buzios to the fullest",
      service1: {
        name: "Boat Tours",
        description: "Tour the 12 most beautiful beaches of Buzios on an unforgettable sea trip.",
      },
      service2: {
        name: "Accommodation",
        description: "Selected hotels and inns with the best locations and services.",
      },
      service3: {
        name: "Guided Tours",
        description: "Learn about the history and secrets of Buzios with our expert guides.",
      },
      service4: {
        name: "Gastronomy",
        description: "Discover the best restaurants and delicious local cuisine.",
      },
    },
    // About us
    about: {
      title: "About Buzios Tourism",
      paragraph1:
        "With over 15 years of experience, we are the leading tourism agency in Buzios. Our commitment is to offer authentic and memorable experiences to every visitor.",
      paragraph2:
        "Our team of local experts knows every corner of Buzios and is dedicated to customizing each trip according to your preferences and needs.",
      stat1: "Years of experience",
      stat2: "Satisfied clients",
      stat3: "Exclusive tours",
      stat4: "Explored beaches",
      cta: "Meet Our Team",
    },
    // Testimonials
    testimonials: {
      title: "What Our Clients Say",
      subtitle: "Real experiences from travelers who have enjoyed our services",
      person1: {
        name: "Maria Gonzalez",
        country: "Argentina",
        text: '"Our experience with Buzios Tourism was incredible. The boat tour was the highlight of the trip. We will definitely be back!"',
      },
      person2: {
        name: "João Silva",
        country: "Brazil",
        text: '"The guides know every corner of Buzios and showed us places we would never have found on our own."',
      },
      person3: {
        name: "Laura Martínez",
        country: "Chile",
        text: '"The hotel recommended by the agency had a perfect location and the service was excellent. Totally recommended."',
      },
    },
    // Call to action
    cta: {
      title: "Ready to Experience Buzios?",
      subtitle: "Book now and get a 10% discount on your next trip to this Brazilian paradise",
      packages: "View Packages",
      contact: "Contact Now",
    },
    // Contact
    contact: {
      title: "Contact Us",
      subtitle:
        "We are here to help you plan your perfect trip to Buzios. Contact us and an advisor will get in touch with you.",
      address: {
        title: "Address",
        value: "Rua das Pedras, 123, Centro, Buzios, RJ, Brazil",
      },
      email: {
        title: "Email",
      },
      phone: {
        title: "Phone",
      },
      follow: "Follow Us",
      form: {
        title: "Send Us a Message",
        name: "Name",
        namePlaceholder: "Your name",
        email: "Email",
        emailPlaceholder: "your@email.com",
        subject: "Subject",
        subjectPlaceholder: "Subject of your message",
        message: "Message",
        messagePlaceholder: "Write your message here...",
        submit: "Send Message",
      },
    },
    // Footer
    footer: {
      description: "Your travel agency specialized in Buzios, offering unforgettable experiences since 2008.",
      quickLinks: "Quick Links",
      home: "Home",
      popularDestinations: "Popular Destinations",
      newsletter: "Newsletter",
      newsletterText: "Subscribe to receive special offers and news about Buzios.",
      emailPlaceholder: "Your email",
      subscribe: "Subscribe",
      rights: "All rights reserved.",
    },
  },
}

// Establecer el año actual en el footer
//document.getElementById("currentYear").textContent = new Date().getFullYear()

// Función para cambiar el idioma
function changeLanguage(lang) {
  // Guardar preferencia de idioma
  localStorage.setItem("preferredLanguage", lang)

  // Actualizar todos los elementos con atributo data-i18n
  document.querySelectorAll("[data-i18n]").forEach((element) => {
    const key = element.getAttribute("data-i18n")
    if (key) {
      // Navegar por el objeto de traducciones usando la clave
      const keys = key.split(".")
      let translation = translations[lang]
      for (const k of keys) {
        if (translation && translation[k]) {
          translation = translation[k]
        } else {
          console.warn(`Translation key not found: ${key} for language ${lang}`)
          return
        }
      }
      element.textContent = translation
    }
  })

  // Actualizar placeholders
  document.querySelectorAll("[data-i18n-placeholder]").forEach((element) => {
    const key = element.getAttribute("data-i18n-placeholder")
    if (key) {
      const keys = key.split(".")
      let translation = translations[lang]
      for (const k of keys) {
        if (translation && translation[k]) {
          translation = translation[k]
        } else {
          console.warn(`Placeholder translation key not found: ${key} for language ${lang}`)
          return
        }
      }
      element.placeholder = translation
    }
  })

  // Actualizar el atributo lang del HTML
  document.documentElement.lang = lang
}

// Configurar los eventos de clic para los selectores de idioma
document.querySelectorAll(".dropdown-item[data-lang]").forEach((item) => {
  item.addEventListener("click", (e) => {
    e.preventDefault()
    const lang = e.currentTarget.getAttribute("data-lang")
    changeLanguage(lang)
  })
})

// Cargar el idioma preferido del usuario o usar el predeterminado (español)
document.addEventListener("DOMContentLoaded", () => {
  const preferredLanguage = localStorage.getItem("preferredLanguage") || "es"
  changeLanguage(preferredLanguage)

  // Smooth scrolling para enlaces de anclaje
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault()

      const targetId = this.getAttribute("href")
      if (targetId === "#") return

      const targetElement = document.querySelector(targetId)
      if (targetElement) {
        const headerHeight = document.querySelector("header").offsetHeight
        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight

        window.scrollTo({
          top: targetPosition,
          behavior: "smooth",
        })

        // Cerrar el menú de navegación en móviles si está abierto
        const navbarCollapse = document.querySelector(".navbar-collapse")
        if (navbarCollapse.classList.contains("show")) {
          // Initialize Bootstrap collapse object
          const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse)
          if (bsCollapse) {
            bsCollapse.hide()
          }
        }
      }
    })
  })

  // Validación del formulario de contacto
  const contactForm = document.getElementById("contactForm")
  if (contactForm) {
    contactForm.addEventListener("submit", (e) => {
      e.preventDefault()

      // Validación básica usando las capacidades de Bootstrap
      if (!contactForm.checkValidity()) {
        e.stopPropagation()
        contactForm.classList.add("was-validated")
        return
      }

      // Aquí iría el código para enviar el formulario
      alert(
        translations[preferredLanguage].contact.form.success ||
          "¡Mensaje enviado con éxito! Nos pondremos en contacto contigo pronto.",
      )
      contactForm.reset()
      contactForm.classList.remove("was-validated")
    })
  }

  // Initialize Bootstrap components (tooltips, popovers, etc.)
  const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
  const tooltipList = [...tooltipTriggerList].map((tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl))

  const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
  const popoverList = [...popoverTriggerList].map((popoverTriggerEl) => new bootstrap.Popover(popoverTriggerEl))
})

